/*
 * Draggr() - v0.2.1
 *
 * @author  Brandon Poe <brandonpoe@me.com>
 * @copyright 2013, Brandon Poe
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 */
!function(e,n){"use strict";function t(e,q){function O(e){var n=b(e);return-1!==g.indexOf(e.type)&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),E[n]={startX:e.clientX,startY:e.clientY,dragging:!0},C.downCallback(e,E[n]),!1}function X(){C.moveCallback(E.queued,E[E.queued.pointerId]),E.queued=!1}function Y(e){var n=e.pointerId=b(e);return-1!==g.indexOf(e.type)&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),E[n].dragging?(e.preventDefault(),E[n].deltaX=E[n].startX-e.clientX,E[n].deltaY=E[n].startY-e.clientY,E.queued||(E.queued=e,k=requestAnimationFrame(X)),!1):void 0}function T(e){window.cancelAnimationFrame(k),E.queued=!1;var n=b(e);E[n].dragging&&C.upCallback(e,E[n]),E[n].dragging=!1}function b(e){return-1!==s.indexOf(e.type)?1:-1!==g.indexOf(e.type)?(e.changedTouches[0].identify||e.changedTouches[0].identifier)+2:-1!==w.indexOf(e.type)?e.pointerId:1}var k,C=a({},t.defaults,q),L=this,x=!1;"string"==typeof e&&(e=n.querySelector(e));var E={queued:!1,1:{dragging:!1}},P=[],I=[],A=[];C.upOnLeave&&(i.push(r),l.push(f),m.push(y)),C.hasMouse&&(P.push(o),I.push(c),A=A.concat(i)),C.hasTouch&&(P.push(d),I.push(h),A=A.concat(l)),C.hasPointer&&(P.push(p),I.push(v),A=A.concat(m)),L.init=function(){return x?this:(u(P,function(n){e.addEventListener(n,O,!1)}),u(I,function(n){e.addEventListener(n,Y,!1)}),u(A,function(n){e.addEventListener(n,T,!1)}),x=!0,this)},L.destroy=function(){P.concat(I,A).forEach(function(n){e.removeEventListener(n)}),x=!1},L.updateSettings=function(e){a(C,e)},L.reset=function(){}}function u(e,n){for(var t in e)e.hasOwnProperty(t)&&n(e[t])}function a(){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(arguments[0][n]=arguments[e][n]);return arguments[0]}var o="mousedown",c="mousemove",i=["mouseup"],r="mouseleave",s=[o,c,r].concat(i),d="touchstart",h="touchmove",l=["touchend","touchcancel"],f="touchleave",g=[d,h,f].concat(l),p="pointerdown",v="pointermove",m=["pointerup"],y="pointerleave",w=[p,v,y].concat(m);e.Draggr=t,t.defaults={hasMouse:!0,hasTouch:!0,hasPointer:!0,upOnLeave:!0,downCallback:function(e){},moveCallback:function(){},upCallback:function(e){}}}(window,document);