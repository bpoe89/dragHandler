(function(e,t,n){function i(t,n){function d(e){e.preventDefault();var t=e.originalEvent;if(t.type==="mousemove")t.pointerId=1;else if(t.type==="touchmove"){var n=t.changedTouches[0];t.pointerId=(n.identify||n.identifier)+2;t.clientX=n.clientX;t.clientY=n.clientY}l[t.pointerId]={startX:e.clientX,startY:e.clientY,dragging:!0};s.downCallback(e);return!1}function v(e){var t=e.originalEvent;if(e.type==="mousemove")t.pointerId=1;else if(e.type==="touchmove"){var n=t.changedTouches[0];t.pointerId=(n.identify||n.identifier)+2;t.clientX=n.clientX;t.clientY=n.clientY}if(l[t.pointerId].dragging){e.preventDefault();l[t.pointerId].deltaX=l[t.pointerId].startX-e.clientX;l[t.pointerId].deltaY=l[t.pointerId].startY-e.clientY;requestAnimationFrame(s.moveCallback);return!1}}function m(t){var n=t.originalEvent;if(e.inArray(t.type,a)!==-1)n.pointerId=1;else if(e.inArray(t.type,f)!==-1){var r=n.changedTouches[0];n.pointerId=(r.identify||r.identifier)+2}l[n.pointerId].dragging=!1;s.upCallback(t)}var s=e.extend({},i.defaults,n,e(t).data("draggr")),o=this,u=e(t),a=["mouseup","mouseout","mouseleave"],f=["touchend","touchout","touchleave"],l={},c="",h="",p="";if(s.hasMouse){c="mousedown."+r;h="mousemove."+r;p="mouseup."+r+" mouseout."+r+" mouseleave."+r}if(s.hasTouch){c+=" touchdown."+r;h+=" touchmove."+r;p+=" touchend."+r+" touchout."+r+" touchleave."+r}if(s.hasPointer){c+=" pointerdown."+r;h+=" pointermove."+r;p+=" pointerup."+r+" pointerout."+r+" pointerleave."+r}e.trim(c);e.trim(h);e.trim(p);o.init=function(){u.on(c,d);u.on(h,v);u.on(p,m)};o.updateSettings=function(t){e.extend(s,t)};o.reset=function(){}}var r="draggr";i.defaults={hasMouse:!0,hasTouch:!0,hasPointer:!0,downCallback:function(e){},moveCallback:function(){},upCallback:function(e){}};e.fn.draggr=function(e){return this.each(function(){this.draggr?e&&typeof e=="object"?this.draggr.updateSettings(e):this.draggr.reset():this.draggr=(new i(this,e)).init()})}})(jQuery,window,document);